<html>
  <head>
    <title>Blog Page</title>
    <link
      href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css'
      rel='stylesheet'
      integrity='sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3'
      crossorigin='anonymous'
    />
    <link rel='stylesheet' href='/public/style.css' />
    <link rel='icon' type='icon/x-icon' href='/public/assets/logo.png' />
  </head>
  <body>
    <!-- NavBar -->
    <nav
      class='navbar navbar-expand-lg navbar-light bg-light shadow-sm p-3 mb-3 rounded'
    >
      <div class='container'>

        <a class='navbar-brand me-5' href='/'>
          <img src='public/assets/logo.png' />
        </a>

        <button
          class='navbar-toggler'
          type='button'
          data-bs-toggle='collapse'
          data-bs-target='#navbarSupportedContent'
          aria-controls='navbarSupportedContent'
          aria-expanded='false'
          aria-label='Toggle navigation'
        >
          <span class='navbar-toggler-icon'></span>
        </button>

        <div class='collapse navbar-collapse' id='navbarSupportedContent'>

          <ul class='navbar-nav me-auto mb-2 mb-lg-0'>
            <li class='nav-item'>
              <a class='nav-link' aria-current='page' href='/'>Home</a>
            </li>
            <li class='nav-item'>
              <a
                class='nav-link active text-orange font-weight-bold'
                aria-current='page'
                href='/blog'
              >Blog</a>
            </li>
          </ul>

          {{#if isLogin}}
            <ul class='navbar-nav ms-auto me-5 mb-2 mb-lg-0'>
              <li class='nav-item'>
                <span class='nav-link'>Hallo, {{user.name}}</span>
              </li>
              <li class='nav-item'>
                <a
                  class='nav-link'
                  aria-current='page'
                  href='/logout'
                >Logout</a>
              </li>
            </ul>
          {{else}}

            <ul class='navbar-nav ms-auto me-5 mb-2 mb-lg-0'>
              <li class='nav-item'>
                <a class='nav-link' aria-current='page' href='/login'>Login</a>
              </li>
              <li class='nav-item'>
                <a
                  class='nav-link'
                  aria-current='page'
                  href='/register'
                >Register</a>
              </li>
            </ul>
          {{/if}}

          <a href='/contact-me' class='btn btn-orange text-white px-4'>Contact
            Me</a>
        </div>

      </div>
    </nav>
    <!-- Blog -->

    {{#if messages.success}}
      <div class='alert alert-success' role='alert'>
        {{messages.success}}
      </div>
    {{/if}}

    <!-- Form -->
    <div class='blog'>

      <div style='text-align: right; padding-right: 130px; margin-top: 50px'>
        {{#if isLogin}}
          <a href='/add-blog' class='btn btn-orange text-white px-4'>Add New
            Blog</a>
        {{/if}}
      </div>

      <div id='contents' class='blog-list'>
        <!-- dynamic content would be here -->
        {{#each blogs}}
          <!-- data blogs ditampilkan menggunakan perulangan each-->
          <div class='blog-list-item'>
            <div class='blog-image' id='blog-image'>
              <img src='/public/assets/blog-img-detail.png' alt='' />
              <!-- menggunakan this karena perulangan each -->
            </div>
            <div class='blog-content'>
              {{#if isLogin}}
                <!--pengkondisian if boolean isLogin untuk mengaktifkan edit dan delete button-->
                <div class='btn-group d-flex justify-content-end'>
                  <a
                    href='/edit-blog/{{this.id}}'
                    class='btn-edit text-decoration-none text-black'
                  >Edit Post</a>
                  <a
                    href='/delete-blog/{{this.id}}'
                    class='btn-post text-decoration-none'
                  >Delete Blog</a>
                </div>
              {{/if}}
              <h1>
                <a
                  href='/detail-blog/{{this.id}}'
                  target='_blank'
                  id='blog-title'
                >{{this.title}}</a>
              </h1>
              <div class='detail-blog-content'>
                {{this.post_at}}
                | Ichsan Emrald Alamsyah
              </div>
              <p id='blog-content'>
                {{this.content}}
              </p>
              <div style='text-align: right'>
                <span
                  style='font-size: 15px; color: grey'
                >{{this.time_ago}}</span>
              </div>
            </div>
          </div>
        {{/each}}
        <!-- End dynamic content would be here -->
      </div>
    </div>
    <script src='/public/blog.js'></script>
  </body>
</html>